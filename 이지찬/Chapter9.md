# Chapter 09 - 메시지 버스를 타고 시내로 나가기

## 9.1.1 구조 변경 상상해보기: 모든 것이 이벤트 핸들러다.
* **이해하기로는 서비스 계층에서 직접 호출 하는 오케스트레이션 방식에서 이벤트 핸들러로 대체할 수 있다**
* **작업의 순서가 중요한 작업이라면 어떻게 처리 할까?**
    * **우선순위를 설정하여 이벤트를 처리하는 방식**
    * **이벤트 체인 방식**
    * **사가 패턴 방식**
* **주의 할점은 멱등성이 보장되는지(중복방지), 실패 처리, 타임아웃 등 처리에 대한 고민이 필요하다.**

* **이벤트 버스 구현체**
    * **RabbitMQ**
        * **메시지 순서, 라우팅 기능 제공**
    * **Kafka**
        * **이벤트 스트림 순서 보장**
    * **AWS EventBridge**
        * **서비스 간 이벤트 라우팅**

## 도메인 객체에서 기본 타입에 대한 집착을 거쳐 인터페이스로 이벤트를 사용하기 까지
* **기본타입에 집착하여 사용하는 것은 안티패턴으로 간주한다**
    * **5장에서 서비스 계층을 원시타입을 바탕으로 기술하라 라는 내용과 반하는거 아닌가? 라는 생각이 들었는데 관점이 달랐다**
    * **서비스 계층 인터페이스의 경우 외부와의 결합도를 떨어뜨리기 위함이고 본내용에서 말하는 내용은 엔티티를 사용 함으로써 캡슐화를 할 수 있다는 차이**

